"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[27316],{984206:(e,o,t)=>{t.d(o,{Z:()=>r});let r=2},615298:(e,o,t)=>{t.d(o,{j:()=>a});let r={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},i=e=>{if(!e)return"";let o="";for(let t=0;t<e.length;t+=1)o+=r[e.charAt(t)]||e.charAt(t);return o},s=(e,o)=>{let t=o.split(" "),r=e.split(" "),s=0;for(let e=0;e<r.length;e+=1){let o=i(r[e]);(o.includes(t[s])||r[e].includes(t[s]))&&(s+=1)}return s===t.length},a=(e,o,t="name")=>{let r=o.toLowerCase();return e.filter(e=>s(e[t].toLowerCase(),r))}},486746:(e,o,t)=>{t.d(o,{Z:()=>l});var r=t(883119),i=t(758119),s=t(488769),a=t(785893);let d=({collaborator_count:e,useLegoLayout:o,type:t})=>o?(0,a.jsx)(r.xu,{marginEnd:e?2:0,children:(0,a.jsx)(s.Z,{type:t})}):(0,a.jsx)(s.Z,{type:t}),l=({board:e,showCollaborativeIcon:o,showPrivateIcon:t,showProtectedIcon:l,showSectionsIcon:c,useLegoLayout:n})=>{var _;let u=(null==e?void 0:null===(_=e.collaborating_users)||void 0===_?void 0:_.length)||0;return o||t||l||c?(0,a.jsxs)(r.xu,{display:"flex",direction:"row",marginEnd:n?0:5,dangerouslySetInlineStyle:{__style:{paddingLeft:8}},alignItems:"center",children:[t&&(0,a.jsx)(d,{collaborator_count:u,useLegoLayout:n,type:"secret"}),l&&(0,a.jsx)(d,{collaborator_count:u,useLegoLayout:n,type:"protected"}),o&&(n?(0,a.jsx)(i.Z,{board:e,isCompact:!0,ownerOnly:!1}):(0,a.jsx)(s.Z,{type:"group"})),c&&(0,a.jsx)(s.Z,{type:"sections"})]}):null}},24886:(e,o,t)=>{t.d(o,{Z:()=>s});var r=t(883119),i=t(785893);let s=({image_url:e,naturalHeight:o,naturalWidth:t})=>(0,i.jsx)(r.xu,{"aria-hidden":"true",marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,height:48,children:(0,i.jsx)(r.zd,{wash:!0,width:48,height:48,rounding:2,children:(0,i.jsx)(r.Ee,{src:e,alt:"",naturalHeight:o,naturalWidth:t})})})},758119:(e,o,t)=>{t.d(o,{Z:()=>c});var r=t(883119),i=t(898781),s=t(349700),a=t(19121),d=t(785893);function l(e){var o,t,r,i;let s=null!==(o=null!==(t=null==e?void 0:e.imageMediumUrl)&&void 0!==t?t:null==e?void 0:e.image_medium_url)&&void 0!==o?o:"";return{name:null!==(r=null!==(i=null==e?void 0:e.fullName)&&void 0!==i?i:null==e?void 0:e.full_name)&&void 0!==r?r:"",src:"https://s.pinimg.com/images/user/default_75.png"===s?void 0:s}}function c({board:e,forceViewer:o,isCompact:t,ownerOnly:c}){var n,_,u,b,p;let I=(0,i.ZP)(),h=(0,a.Z)(),f=c?[l(null==e?void 0:e.owner)]:(function(e,o,t){let{collaborated_by_me:r,collaborating_users:i,owner:s}=null!=e?e:{},a=null!=i?i:[],d=[s];if(r||t){let e=a.findIndex(e=>o.isAuth&&e.id===o.id);if(-1!==e){let o=a.splice(e,1)[0];d.push(o)}else d.push(o)}let l=[...a].sort((e,o)=>{var t,r,i,s;return(null!==(t=e.full_name)&&void 0!==t?t:"")>(null!==(r=o.full_name)&&void 0!==r?r:"")?1:(null!==(i=o.full_name)&&void 0!==i?i:"")>(null!==(s=e.full_name)&&void 0!==s?s:"")?-1:0});return[...d,...l]})(e,h,o).map(l),E=f.slice(0,3).map(e=>e.name),v="";switch(f.length){case 3:v=(0,s.Wc)(`${I._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${null!==(n=E[0])&&void 0!==n?n:""}`,second:`${null!==(_=E[1])&&void 0!==_?_:""}`,last:`${null!==(u=E[2])&&void 0!==u?u:""}`});break;case 2:v=(0,s.Wc)(`${I._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${null!==(b=E[0])&&void 0!==b?b:""}`,second:`${null!==(p=E[1])&&void 0!==p?p:""}`});break;default:v=E.join(", ")}let m=f.length>3?(0,s.Wc)(`, ${I.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', f.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars')}`,{userNames:v,leftCount:`${f.length-3}`}):(0,s.Wc)(`, ${I._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:v});return(0,d.jsx)(r.HE,{accessibilityLabel:m,collaborators:f,size:t?"xs":"sm"})}},678638:(e,o,t)=>{t.d(o,{$n:()=>v,A4:()=>B,CE:()=>p,ET:()=>D,F$:()=>E,Kw:()=>Z,Nv:()=>T,PA:()=>A,X_:()=>R,d9:()=>m,e1:()=>b,o4:()=>O,vB:()=>h});var r=t(782677),i=t(214494),s=t(186656),a=t(248327),d=t(414327),l=t(254176),c=t(956800),n=t(563339),_=t(483025),u=t(492583);function b(e){return o=>{let{boardId:t,sectionIdBefore:r,sectionIdAfter:i,sourceSectionId:a,targetSectionId:d}=e;o((0,c._f)({feedType:u.Z.BOARD_SECTIONS,feedId:t,itemType:"boardsection",sourceItemId:a,targetItemId:d}));let l=Object.freeze({});return r&&(l={...l,section_before:r}),i&&(l={...l,section_after:i}),(0,s.Z)({url:`/v3/board/sections/${a}/reorder/`,method:"POST",data:l})}}function p(e,o){return t=>t((0,a.U)("BoardSectionResource",{options:{field_set_key:o||"board_page",section_id:e}}))}function I(e,o){return{type:"SECTION_ADDED",payload:{boardId:e,section:o}}}function h({boardId:e,sourceBoardId:o="",sourceSectionId:t="",name:r,nameSource:s,pinImport:a,initialPinIds:_=[]},b,p,h){let f=0;"RECOMMENDATION"===s?f=1:"EDITED_RECOMMENDATION"===s&&(f=2);let E={board_id:e,initial_pins:a&&!a.all?a.pinIds:_,name:r,name_source:f,...p?{orbac_subject_id:p}:Object.freeze({})};return r=>i.Z.create("BoardSectionResource",E).callCreate({showError:!1}).then(({resource_response:{data:i}})=>{h({event_type:7100,object_id_str:i.id}),r(I(e,i)),r((0,c.vX)({feedId:e,feedType:u.Z.BOARD_SECTIONS,itemIds:[i.id],itemType:"boardsection"})),r((0,l.Tq)(e,"pin_count")),r((0,d.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:p}));let{all:s,pinIds:_}=a||{all:!1,pinIds:[]};return s?new Promise((s,a)=>r((0,n.Z)({inverseSelection:!0,selectedPinIds:_,source:{boardId:o||e,sectionId:t||null},target:{boardId:e,sectionId:i.id}},b)).then(()=>s(i)).catch(a)):(_.length>0&&r((0,c.N8)(u.Z.BOARDFEED,e)),i)})}function f(e,o){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:o}}}function E(e,o,t){return r=>i.Z.create("BoardSectionEditResource",{section_id:o,...t?{orbac_subject_id:t}:Object.freeze({})}).callDelete({showError:!1}).then(()=>Promise.all([r(f(e,o)),r((0,c.EX)({feedId:e,feedType:u.Z.BOARD_SECTIONS,itemIds:[o],itemType:"boardsection"})),r((0,l.Tq)(e,"pin_count")),r((0,d.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:t}))]))}function v(e,o,t,r){return s=>i.Z.create("BoardSectionEditResource",{section_id:o,title:t,...r?{orbac_subject_id:r}:Object.freeze({})}).callCreate({showError:!1}).then(o=>{let t=o.resource_response.data;return s(o=>{let r=t.board;if(r&&r.id!==e){var i,s,a,d,n;o(f(e,null!==(i=t.id)&&void 0!==i?i:"")),o((0,c.EX)({feedId:e,feedType:u.Z.BOARD_SECTIONS,itemIds:[null!==(s=t.id)&&void 0!==s?s:""],itemType:"boardsection"})),o((0,l.Tq)(e,"pin_count")),o(I(null!==(a=r.id)&&void 0!==a?a:"",t)),o((0,c.vX)({feedId:null!==(d=r.id)&&void 0!==d?d:"",feedType:u.Z.BOARD_SECTIONS,itemIds:[null!==(n=t.id)&&void 0!==n?n:""],itemType:"boardsection"})),o((0,l.Tq)(e,"pin_count"))}else o({type:"SECTION_UPDATED",payload:{boardId:e,section:t}})}),s((0,d.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:r})),t})}function m(e,o,t){return r=>(0,s.Z)({url:`/v3/board/sections/${o}/merge/${t}/`,method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(i=>Promise.all([r(f(e,o)),r((0,d.jB)("BoardSectionsRepinResource",{board_id:e})),r(p(t)),r((0,c.N8)(u.Z.BOARD_SECTION_PINS,t))]).then(()=>i))}let y=(e,o)=>({type:"BOARD_SECTION_EDIT",payload:o}),A=(e,o)=>t=>i.Z.create("BoardSectionEditResource",{...o,section_id:e}).callCreate().then(r=>(t(y(e,o)),r.resource_response.data)),B=e=>o=>i.Z.create("BoardSectionResource",{section_id:e}).callGet().then(t=>{let r=t.resource_response.data||{id:"",title:""};return o(y(e,r)),t}),S=(e,o,t,r)=>({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:o,boardId:t,pinCount:r}}),O=(e,o,t,r)=>s=>{let a=i.Z.create("BoardSectionEditResource",{section_id:o}).callDelete();return s(S(e,o,t,r)),a},T=(e,o,t,s)=>a=>{let l={board_id:e,initial_pins:o,name:t},n="BoardSectionResource";return i.Z.create(n,l).callCreate().then(t=>{let i=t.resource_response.data,b=(0,r.Fv)(i,_.Z[n]);return s({event_type:7100,object_id_str:i.id}),a((0,d.XM)(n,l,t,b)),a(I(e,i)),a((0,c.vX)({feedId:e,feedType:u.Z.BOARD_SECTIONS,itemIds:[i.id],itemType:"boardsection"})),o.length&&a({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:i.id},pinIds:o}}),t})},Z=e=>o=>{let{source:t,target:s,pinIds:a}=e;if(o({type:"PINS_MOVE",payload:e}),t.boardlessPins||s.boardId!==t.boardId){let e={board_id:s.boardId,pin_ids:a,section_id:s.sectionId};return i.Z.create("BulkEditResource",e).callUpdate()}if(s.sectionId){let e={section_id:s.sectionId,pins:a},t="BoardSectionEditResource";return i.Z.create(t,e).callUpdate().then(i=>{let s=(0,r.Fv)(i.resource_response.data,_.Z[t]);return o((0,d.XM)(t,e,i,s)),i})}let l={section_id:t.sectionId,pins:a};return i.Z.create("BoardSectionPinsResource",l).callDelete()},R=e=>o=>{o({type:"PINS_MOVE_ALL",payload:e});let{source:t,target:r,excludePinIds:s}=e,a={board_id:t.boardId,new_board_id:r.boardId,pin_ids:s,old_section_id:t.sectionId,new_section_id:r.sectionId};return i.Z.create("BulkEditSelectAllResource",a).callUpdate()},D=(e,o,t,r,i)=>s=>s(T(e,[],o,i)).then(o=>{let i=o.resource_response.data.id;return s(R({source:{boardId:e,sectionId:r},target:{boardId:e,sectionId:i},excludePinIds:t}))})},563339:(e,o,t)=>{t.d(o,{Z:()=>b,S:()=>u});var r=t(214494),i=t(254176),s=t(678638),a=t(956800),d=t(492583),l=t(124237);let c=e=>o=>{l.Z.showError(function(e,o){switch(e.api_error_code){case 2171:case 2172:case 2173:return o._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(o,e))},n=e=>(0,a.N8)(e.sectionId?d.Z.BOARD_SECTION_PINS:d.Z.BOARDFEED,e.sectionId||e.boardId);function _(e,o){let{source:t,target:r}=e;r.boardId!==t.boardId?(o((0,i.Tq)(t.boardId,"pin_count")),o((0,i.Tq)(r.boardId,"pin_count"))):t.sectionId&&r.sectionId||o((0,i.Tq)(r.boardId,"pin_count")),t.sectionId&&o((0,s.CE)(t.sectionId)),r.sectionId&&o((0,s.CE)(r.sectionId))}function u(e){return o=>{let{selectedPinIds:t,source:r,target:i}=e;o((0,a.EX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?d.Z.BOARD_SECTION_PINS:d.Z.BOARDFEED,itemIds:t,itemType:"pin"})),o((0,a.vX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?d.Z.BOARD_SECTION_PINS:d.Z.BOARDFEED,itemIds:t,itemType:"pin"})),_(e,o)}}function b(e,o){return t=>(function(e,o,t){let{inverseSelection:i,selectedPinIds:s,source:l,target:_,orbacSubjectId:u}=e;if(l.boardId===_.boardId&&(l.sectionId||null)===(_.sectionId||null))return Promise.reject();if(i){let e={board_id:l.boardId,new_board_id:_.boardId,old_section_id:l.sectionId||void 0,new_section_id:_.sectionId||void 0,pin_ids:s,orbac_subject_id:u};return r.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([o(n(l)),o(n(_))])).catch(c(t))}{let e=(e,t)=>{o((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?d.Z.BOARD_SECTION_PINS:d.Z.BOARDFEED,itemIds:s,itemType:"pin"})),o((0,a.vX)({feedId:t.sectionId||t.boardId,feedType:t.sectionId?d.Z.BOARD_SECTION_PINS:d.Z.BOARDFEED,itemIds:s,itemType:"pin"}))};e(l,_);let i=()=>e(_,l);if(_.boardId===l.boardId){if(_.sectionId){let e={section_id:_.sectionId,pins:s,orbac_subject_id:u};return r.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{i(),c(t)(e)})}{let e={section_id:l.sectionId,pins:s,orbac_subject_id:u};return r.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{i(),c(t)(e)})}}{let e={board_id:_.boardId,section_id:_.sectionId||void 0,pin_ids:s,orbac_subject_id:u};return r.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{i(),c(t)(e)})}}})(e,t,o).then(()=>_(e,t))}},488769:(e,o,t)=>{t.d(o,{Z:()=>a});var r=t(883119),i=t(898781),s=t(785893);let a=function({type:e}){let o=(0,i.ZP)(),t={group:{accessibilityLabel:o._('group board', 'Board picker group board icon', 'Board picker group board icon'),icon:"people"},protected:{accessibilityLabel:o._('protected board', 'Board picker protected board icon', 'Board picker protected board icon'),icon:"protect"},secret:{accessibilityLabel:o._('secret board', 'Board picker secret board icon', 'Board picker secret board icon'),icon:"lock"},sections:{accessibilityLabel:o._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:o._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-down"}},a=t[e];return(0,s.jsx)(r.xu,{marginStart:1,children:(0,s.jsx)(r.xu,{marginStart:2,children:"sections"===e||"sectionsInline"===e?(0,s.jsx)(r.JO,{accessibilityLabel:a.accessibilityLabel,icon:a.icon,size:"12",color:"default"}):(0,s.jsx)(r.JO,{accessibilityLabel:a.accessibilityLabel,icon:a.icon,size:16,color:"default"})})})}},109892:(e,o,t)=>{t.d(o,{Z:()=>n});var r=t(702664),i=t(782677),s=t(214494),a=t(332611),d=t(886858),l=t(248327),c=t(414327);function n(){let e=(0,r.useDispatch)(),o=(0,r.useSelector)(e=>e.resources);return async function({boardCreateOptions:t,deprecatedSchemaForNormalization:r}){var n;let _=await s.Z.create("BoardResource",t).callCreate(),u=_.resource_response.data,b=r?(0,i.Fv)(u,r):void 0;e((0,c.XM)("BoardResource",t,_,b)),e((0,a.fO)({event_type:20})),null!==(n=u.owner)&&void 0!==n&&n.id&&e((0,l.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let p=o.BoardsResource||{},I=o.BoardsFeedResource||{};return Object.keys(p).forEach(o=>{var t;let r=(0,d.k)(o);r.username===(null===(t=u.owner)||void 0===t?void 0:t.username)&&e((0,c.jB)("BoardsResource",o))}),Object.keys(I).forEach(o=>{var t;let r=(0,d.k)(o);r.username===(null===(t=u.owner)||void 0===t?void 0:t.username)&&e((0,c.jB)("BoardsFeedResource",o))}),u}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/27316-2296a26833f709c2.mjs.map